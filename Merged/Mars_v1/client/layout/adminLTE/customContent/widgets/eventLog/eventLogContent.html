<template name="eventLogContent">

    <!-- Main content -->
    <section class="content" style="padding-top: 0;  min-height: {{sectionHeight}};">

        <!-- Your Page Content Here -->

        <div class="row">

            <div class="col-xs-12" style="padding-left: 0; padding-right: 0; width:100%;">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        Event Log
                        <small>A record of important events</small>
                    </h1>
                </section>

                <section class="content" style="width:100%;">

                  <ul class="messageWindow" style="height: {{tabContentHeight}};">
                    {{>nodelist}}
                    {{>taglist}}
                  </ul>

                </section>
            </div>

        </div>

    </section>
</template>

<template name="nodelist">

  {{#each groupedNodes}}
  <div class="panel-group">
   <div class="panel panel-default">
     <div class="panel-heading">

        <div class="row">
          <div class="col-sm-9">
            <h4 class="panel-title">
              <a data-toggle="collapse" href="#node{{_id}}">
                <div class = "item-title">
                  <span class="badge">{{count}}</span>
                  <span class = "item-label">
                    Node ID:
                  </span>
                  {{_id}}
                </div>
                <div class = "item-note">
                  <small>Last Update: {{lastupdate}} ago</small>
                </div>
              </a>
            </h4>
          </div>
          <div class='col-sm-3'>
            <span id = "intNode" class="btn btn-sm btn-primary interrogateNode">
                Interrogate
            </span>

          </div>
        </div>






     </div>
     <div id=node{{_id}} class="panel-collapse collapse">
       <ul class="list-group">

       </ul>
       {{#each pos}}
       <ul class="list-group">
         <li class="list-group-item">
           <span class = "item-timestamp">
             {{timestamp}}
           </span>
           <span class = "item-label">
             Latitude:
           </span>
           {{lat}}
           <span class = "item-label">
             Longitude:
           </span>
           {{lon}}
         </li>
       </ul>
       {{/each}}
       <div class="panel-footer">
         Node ID:  {{_id}}
       </div>
     </div>
   </div>
  </div>
  {{/each}}

</template>

<template name="taglist">

  {{#each groupedTags}}
  <div class="panel-group">
   <div class="panel panel-default">
     <div class="panel-heading">
       <h4 class="panel-title">
         <a data-toggle="collapse" href="#tag{{_id}}">
           <div class = "item-title">
             <span class="badge">{{count}}</span>
             <span class = "item-label">
               Tag ID:
             </span>
             {{_id}}
           </div>
           <div class = "item-note">
             <small>Last Update: {{lastupdate}} ago</small>
           </div>
         </a>
       </h4>

     </div>
     <div id=tag{{_id}} class="panel-collapse collapse">
       <ul class="list-group">
         <li class="list-group-item">
           <span class = "item-timestamp">
             {{pos.timestamp}}
           </span>

           <!--<span class = "item-value">-->
             <!--<span class = "item-label">-->
               <!--Latitude:-->
             <!--</span>-->
             <!--{{pos.lat}}-->
           <!--</span>-->

           <!--<span class = "item-value">-->
             <!--<span class = "item-label">-->
               <!--Longitude:-->
             <!--</span>-->
             <!--{{pos.lon}}-->
           <!--</span>-->

           <span class = "item-value">
             <span class = "item-label">
               {{measurements.label}} :
             </span>
             {{measurements.data}}
           </span>

         </li>
       </ul>
       <div class="panel-footer">
         Tag ID:  {{_id}}
       </div>
     </div>
   </div>
  </div>
  {{/each}}

</template>
